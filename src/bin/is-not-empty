#!/bin/bash

usage() {
  echo "Usage: $(basename "$0") [-h] directory_path"
}
while getopts "h" arg; do
  case $arg in
  h)
    usage
    exit 0
    ;;
  *)
    usage
    exit 1
    ;;
  esac
done
shift $((OPTIND - 1))
if [[ $# -ne 1 ]]; then
  usage
  exit 0
fi

readonly directory=$1

if [ -d "$directory" ]; then
  if [ -n "$(ls -A "$directory")" ]; then
    echo "Directory '$directory' is not empty."
    exit 0
  else
    echo "Directory '$directory' is empty."
    exit 1
  fi
else
  echo "'$directory' is not exists or a directory"
  exit 2
fi
